(function(){var f = function(i){return document.getElementById(i)}; var d = function(i){return document.getElementsByTagName(i)}; var z = function(i){i = i || window.event; this.target = i.target || i.srcElement}; z.add = function(A, i, B){if (window.addEventListener){A.addEventListener(i, B, false)}else{A.attachEvent("on" + i, B)}}; var u = function(){return new Date().getTime()}; var n = function(A){var i = new z(A); if (p == -1){p = 0;}p++; tmo = u(); mopos = mp(A);}; var c = function(i){if (i.type == "mousedown"){g = u(); mdpos = mp(i);}else{g = u() - g}}; var t = function(i){k == -1 ? k = i.clientX : k = k; j == -1 ? j = i.clientY : j = j}; var v = function(){if (a == -1){a = u()}y = u() - a}; var s = function(i){m = i.clientX; l = i.clientY}; var mp = function(ev){if (ev.pageX || ev.pageY){return{x : ev.pageX, y : ev.pageY};}return{x : ev.clientX + document.body.scrollLeft - document.body.clientLeft, y : ev.clientY + document.body.scrollTop - document.body.clientTop};}; var mmd = function(e){mpa[mal++] = 1;}; var mdl = function(){omdt = u();}; var b = function(i){BS="0,0"; try{if (document.documentElement.clientHeight == 0) BS = document.body.clientWidth + "," + document.body.clientHeight; else BS = document.documentElement.clientWidth + "," + document.documentElement.clientHeight;}catch(err){}var A = i.target.innerHTML; if (i.target.href.indexOf("&ml") == -1){ma_plus = (omdt - tmo) + "," + history.length + "," + mopos.x + "," + mopos.y + "," + mdpos.x + "," + mdpos.y + "," + BS; i.target.href += "&ml=" + mal + "&mc=" + (u() - omdt) + "&ma=" + ma_plus; i.target.href += "&ak=" + p + "." + g + "." + m + "." + l + "." + k + "." + j + "." + y}if ((A.match(/(www\.)|(.*@.*)/i) != null) && document.all){A.match(/\<.*\>/i) == null ? i.target.innerHTML = A : i.target.innerTEXT = A}}; var h = function(A){var i = new z(A); var tag_cnt = 0; while (i.target.tagName.toLowerCase() != "a" && tag_cnt < 10){i.target = i.target.parentNode; tag_cnt++;}s(A); v(); if ("star" == "star"){b(i);}}; var mpa = new Array(1000); var mal = 0, omdt = 0; var m = -1, l = -1, k = -1, j = -1, g = -1, a = -1, y = -1, p = -1, r = -1; var e = f("div_ad"); slots = e.getElementsByTagName("a"); z.add(document, "mousemove", mmd); z.add(document, "mousedown", mdl); z.add(e, "mouseover", t); z.add(e, "mouseover", v); for (var q = 0; q < slots.length; q++){node = slots[q]; if (node.toString().indexOf("lu.sogou.com/ads") > -1){z.add(node, "mousedown", c); z.add(node, "mouseup", c); z.add(node, "click", h); z.add(node, "mouseover", n)}}})();
