Linux命令：用“dirs”、“pushd”、“popd”来操作目录栈
2012-05-11 10:22 青藤园 字号：T | T
一键收藏，随时查看，分享好友！
你可以将目录压入目录栈，也可以稍后将该目录弹出。在随后的示例中，将会用到以下三个命令： * dirs:显示目录栈 * pushd:将目录压入目录栈 * popd:将目录弹出目录栈
AD：干货来了,不要等！WOT2015 北京站演讲PPT开放下载！
你可以将目录压入目录栈，也可以稍后将该目录弹出。在随后的示例中，将会用到以下三个命令：

* dirs:显示目录栈

* pushd:将目录压入目录栈

* popd:将目录弹出目录栈

dirs命令显示当前所在目录及目录栈中的内容。即使目录栈为空，dirs也会显示当前所在的目录，示例如下：


# popd
-bash: popd: directory stack empty
# dirs
~
# pwd
/home/ramesh
如何使用pushd和popd呢？让我们先创建一些临时的目录然后把他们压入目录堆栈中去。


# mkdir /tmp/dir1
# mkdir /tmp/dir2
# mkdir /tmp/dir3
# mkdir /tmp/dir4
# cd /tmp/dir1
# pushd .

# cd /tmp/dir2
# pushd .
# cd /tmp/dir3
# pushd .
# cd /tmp/dir4
# pushd .
# dirs
/tmp/dir4 /tmp/dir4 /tmp/dir3 /tmp/dir2 /tmp/dir1
[注:显示的第一个目录名总会是当前所在的目录，而不是显式压入堆栈里的内容]
此时，目录堆栈就包含以下内容：


/tmp/dir4
/tmp/dir3
/tmp/dir2
/tmp/dir1
最后被压入的目录会在堆栈的顶端。当你执行“popd”，系统就会跳转到栈顶的目录中，并且从堆栈中把它清除掉。正如上面所展示的，最后压入堆栈的是/tmp/dir4，所以当进行一次popd时，就会跳转到/tmp/dir4目录下同时从堆栈中将它移除。如下所示：


# popd
# pwd
/tmp/dir4
[注:执行完上popd命令之后，目录栈包括以下目录
/tmp/dir3
/tmp/dir2
/tmp/dir1]
# popd
# pwd
/tmp/dir3
[注:执行完上popd命令之后，目录栈包括以下目录
/tmp/dir2
/tmp/dir1]
# popd
# pwd
/tmp/dir2
[注:执行完上popd命令之后，目录栈包括以下目录 /tmp/dir1]
# popd
# pwd
/tmp/dir1
[注:执行完上popd命令之后，目录栈包括以下目录]
# popd
-bash: popd: directory stack empty
用“dirs”、“pushd”、“popd”来操作目录栈就介绍到这里。

#############################################################################
linux cd命令与Pushd切换目录的方法
2009-10-27 13:10 佚名 linux 字号：T | T
一键收藏，随时查看，分享好友！
本文主要讲解linux cd命令的使用以及巧用linux cd命令和Pushd切换目录的方法，命令行模式下，用命令行解释器中的历史记录，或者用命令行函数pushd。
AD：干货来了,不要等！WOT2015 北京站演讲PPT开放下载！
在向大家详细介绍linux之前，首先让大家了解下linux cd命令，然后全面介绍巧用linux cd命令的方法。在Linux的多目录命令提示符中工作是一种痛苦的事情，但以下这些利用linux cd命令和pushd切换目录的技巧有助于你节省时间和精力。

在Linux命令提示中，用linux cd命令来改变当前目录。这是linux cd命令的一些基本用法：
改变你的根路径，键入cd，按回车键。
进入一个子目录，键入cd，空格，然后是子路径名（例如：cd Documents），再按回车键。
进入当前目录的上一级目录，键入cd，空格，两个点，然后按回车键。
进入一个特定的目录，键入cd，空格，路径名（例如 cd /usr/local/lib），再按回车键。

为了确定你所在的目录，你可以键入pwd，按回车键，你将看到你所在的当前目录名称。
与linux cd命令相似,用pushd实现在不同目录间切换。
在命令行模式下，当你工作在不同目录中，你将发现你有很多时间都浪费在重复输入上。如果这些目录不在同一个根目录中，你不得不在转换时输入完整的路径名，这难免让人有些难以忍受。但你可以用以下的一个或两个步骤来避免所有多余的输入：用命令行解释器中的历史记录，或者用命令行函数pushd。

用命令行解释器中的历史记录的好处是只需按很少的键。在命令行中用向上的箭头来查找你用过的命令，直到你找到，然后按回车键。如果你所切换的两个目录在整个驱动器的子目录结构中很接，那用解释器中的历史记录可能是你最好的选择。然而，如果你在两个截然不同的路径间转换的话，你可能很希望利用pushd这个函数，你可以用它创建一个目录堆栈（在内存中的一个列表）。

注释：缺省情况下，pushd函数可能不包括在你的Linux中；但它包涵在Red Hat和用Red Hat驱动的系统中。如果你的系统中没有pushd函数，你可以在ibiblio.org网站上下载相关的函数工具。
这里说一下怎么用pushd。假设你现在工作在/usr/share/fonts目录下。你需要对/usr/share/fonts做一些改动，你将频繁的在两个目录间切换。开始在一个目录下，用pushd函数切换到另一个目录。在我们的例子中，开始在/usr/share/fonts下，你键入pushd /opt/wonderword/fonts，然后按回车键。现在，你将在下一行看到堆栈中的内容：/opt/wonderword/fonts /usr/share/fonts。
正如你所看到的，当你键入pushd和一个路径名时，将自动产生一个堆栈，内容是你键入的目录名和你当前工作的目录名。在我们的例子中，你所键入的路径（/opt/wonderword/fonts）在堆栈的顶部。
快速返回上一级目录，你可以直接键入pushd，如果不跟路径名，
你将返回到堆栈中前一个目录的上一层目录。
如果你需要从堆栈中删除一个目录，键入popd，然后是目录名称，再按回车键。想查看堆栈中目录列表，键入dirs，然后按回车键。popd和dirs命令也是常用函数中的一部分。
以上是巧用linux cd命令和Pushd切换目录的方法，希望对您能有所帮助。
